# pgBalancer Cluster Environment Configuration
# Copy this file to .env and customize as needed

#------------------------------------------------------------------------------
# PostgreSQL Backend Configuration
#------------------------------------------------------------------------------

# Backend 0 (Primary)
BACKEND0_HOST=postgres-primary
BACKEND0_PORT=5432
BACKEND0_WEIGHT=1
BACKEND0_DATA_DIRECTORY=/var/lib/postgresql/data/pgdata

# Backend 1 (Standby)
BACKEND1_HOST=postgres-standby1
BACKEND1_PORT=5432
BACKEND1_WEIGHT=1
BACKEND1_DATA_DIRECTORY=/var/lib/postgresql/data/pgdata

# Backend 2 (Standby)
BACKEND2_HOST=postgres-standby2
BACKEND2_PORT=5432
BACKEND2_WEIGHT=1
BACKEND2_DATA_DIRECTORY=/var/lib/postgresql/data/pgdata

#------------------------------------------------------------------------------
# Connection Pool Settings
#------------------------------------------------------------------------------

NUM_INIT_CHILDREN=32
MAX_POOL=4

#------------------------------------------------------------------------------
# Load Balancing
#------------------------------------------------------------------------------

LOAD_BALANCE_MODE=on

#------------------------------------------------------------------------------
# REST API
#------------------------------------------------------------------------------

ENABLE_REST_API=on
REST_API_PORT=8080
REST_API_LISTEN_ADDRESSES=*

#------------------------------------------------------------------------------
# Health Check
#------------------------------------------------------------------------------

HEALTH_CHECK_PERIOD=10
HEALTH_CHECK_TIMEOUT=20
HEALTH_CHECK_USER=postgres
HEALTH_CHECK_PASSWORD=postgres

#------------------------------------------------------------------------------
# PCP
#------------------------------------------------------------------------------

PCP_PASSWORD=pgbalancer

#------------------------------------------------------------------------------
# Initialization
#------------------------------------------------------------------------------

WAIT_FOR_BACKENDS=yes
PGBALANCER_NODE_ID=0
